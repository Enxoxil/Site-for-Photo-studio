const isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent);function testWebP(e){const t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}getAllForms(),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const menuBurgerBody=document.querySelector(".menu__body"),menuBurgerIcon=document.querySelector(".action-header__icon-menu"),menuItems=document.querySelectorAll(".menu__item");for(item of menuItems)item.addEventListener("touchstart",(()=>(menuBurgerBody.classList.contains("_active")&&showMenuBurger(),!1)));function showMenuBurger(){menuBurgerIcon.classList.toggle("_active"),menuBurgerBody.classList.toggle("_active"),document.body.classList.toggle("_lock")}function handlerPushSlide(){const e=document.querySelectorAll("._left-arrow"),t=document.querySelectorAll("._right-arrow");for(let t=0;t<e.length;t++)e[t].onclick=prevSlidePush;for(let e=0;e<t.length;e++)t[e].onclick=nextSlidePush}function prevSlidePush(){let e=this.closest("._wrapper").querySelector("ul"),t=e.lastElementChild,o=e.firstElementChild;e.insertBefore(t,o),changeSliderPaginationActiveDot(this.closest("._wrapper").classList[0])}function nextSlidePush(){let e=this.closest("._wrapper").querySelector("ul"),t=e.firstElementChild;e.append(t),changeSliderPaginationActiveDot(this.closest("._wrapper").classList[0])}function changeSliderPaginationActiveDot(e){let t=document.querySelector(`.${e}__body-item`).getAttribute("name"),o=document.querySelectorAll(`.${e}__dots-item`);for(let e=0;e<o.length;e++)o[e].classList.remove("active-dots"),e==t-1&&o[e].classList.add("active-dots")}function initSliderPaginations(){const e=document.getElementsByName("_pagination");for(let t=0;t<e.length;t++){let o=e[t].closest("._wrapper").querySelector("ul").children.length;for(let n=1;n<=o;n++){const o=document.createElement("div");o.classList.add(`${e[t].classList.value}-item`),e[t].appendChild(o)}changeSliderPaginationActiveDot(`${e[t].closest("._wrapper").classList[0]}`)}}function getSubscribeToggleSpoilerButtons(){return document.querySelectorAll(".article__button")}function toggleSpoilerButtonHandler(){this.parentElement.parentElement.querySelector(".article__content").classList.toggle("_fullText"),this.parentElement.parentElement.querySelector(".article__button").classList.toggle("_activeButtonSpoiler")}function subscribeToggleSpoiler(){for(let e of getSubscribeToggleSpoilerButtons())e.addEventListener("click",toggleSpoilerButtonHandler)}function initSubscribeToggleSpoiler(){subscribeToggleSpoiler()}function getSmoothScrollLinks(){return document.querySelectorAll('a[href^="#"]')}function onClickScrollLinkHandler(e){document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})}function subscribeScrollLink(){for(let e of getSmoothScrollLinks())isMobile?e.addEventListener("touchend",(function(t){t.preventDefault(),onClickScrollLinkHandler(e)})):e.addEventListener("click",(function(t){t.preventDefault(),onClickScrollLinkHandler(e)}))}function initSmoothScroll(){subscribeScrollLink()}menuBurgerBody.addEventListener("touchstart",(()=>(menuBurgerBody.classList.contains("_active")&&showMenuBurger(),!1))),menuBurgerIcon.addEventListener("touchstart",(()=>(menuBurgerIcon&&showMenuBurger(),!1))),document.addEventListener("keydown",(function(e){"Escape"===e.key&&menuBurgerBody.classList.contains("_active")&&showMenuBurger()})),initSliderPaginations(),handlerPushSlide(),initSubscribeToggleSpoiler(),initSmoothScroll();const url="https://jsonplaceholder.typicode.com/todos";async function sendForm(e){try{const t=await fetch(url,{method:"POST",body:e}),o=await t.json();console.log(o)}catch(e){console.log("Error: ",e)}finally{console.log("Finally")}}function resetForm(e){e.target.reset()}function collectionData(e){const t=new FormData(e);return Object.fromEntries(t.entries())}function onSubmit(e,t){sendForm(collectionData(e)),closeModal(t),resetForm(t)}function subscribeSubmitForms(e){for(currentForm of e)currentForm.classList.contains("_form")&&currentForm.addEventListener("submit",(e=>{e.preventDefault();const{currentTarget:t}=e;onSubmit(t,e)}))}function getAllForms(){subscribeSubmitForms(document.forms)}function subscribeCloseModalFieldMobile(){document.addEventListener("touchend",(function(e){!e.target.closest("._modalNoCloseField")&&e.target.closest("._modalActive")&&closeModal(e)}))}function subscribeCloseModalFieldPC(){document.addEventListener("click",(function(e){!e.target.closest("._modalNoCloseField")&&e.target.closest("._modalActive")&&closeModal(e)}))}function subscribeCloseModalField(){isMobile?subscribeCloseModalFieldMobile():subscribeCloseModalFieldPC()}function initSubscribeCloseModalField(){subscribeCloseModalField()}function escCloseModalHandler(){document.addEventListener("keydown",(function(e){let t=document.querySelector("._modalActive");return"Escape"===e.key&&t&&(t.classList.remove("_modalActive"),document.body.classList.remove("_lock")),!1}))}function initEscCloseModalHandler(){escCloseModalHandler()}function getArrayCloseModalButtons(){return document.querySelectorAll("._closeModalBtn")}function subscribeCloseModalButtonMobile(e){e.addEventListener("touchstart",(function(e){sectionFormFeedback.classList.contains("_modalActive")&&closeModal(e)}))}function subscribeCloseModalButtonPC(e){e.addEventListener("click",(function(e){sectionFormFeedback.classList.contains("_modalActive")&&closeModal(e)}))}function subscribeCloseModalButton(){for(button of getArrayCloseModalButtons())isMobile?subscribeCloseModalButtonMobile(button):subscribeCloseModalButtonPC(button)}function initSubscribeCloseModalButton(){subscribeCloseModalButton()}initSubscribeCloseModalField(),initEscCloseModalHandler(),initSubscribeCloseModalButton();const sectionFormFeedback=document.querySelector(".feedback"),openFormFeedbackButton=document.querySelector(".main-content__button");function showFeedbackModal(){sectionFormFeedback.classList.add("_modalActive"),document.body.classList.add("_lock")}function closeModal(e){let t=e.target.closest("._modal");t&&(t.classList.remove("_modalActive"),document.body.classList.remove("_lock"))}isMobile?openFormFeedbackButton.addEventListener("touchend",showFeedbackModal):openFormFeedbackButton.addEventListener("click",showFeedbackModal);